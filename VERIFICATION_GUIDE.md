# ğŸš€ å¿«é€ŸéªŒè¯è¿ç§»å®Œæˆåº¦ (Quick Verification Guide)

## ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨æœåŠ¡å™¨

```bash
npm run server
```

**é¢„æœŸè¾“å‡º**ï¼š
```
ğŸš€ Server running at http://localhost:3001
```

---

## ç¬¬äºŒæ­¥ï¼šå¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰

```bash
npm run dev
```

**é¢„æœŸè¾“å‡º**ï¼š
```
  VITE v... ready in ... ms

  âœ  Local:   http://localhost:5173/
```

---

## ç¬¬ä¸‰æ­¥ï¼šæ£€æŸ¥è¿ç§»å®Œæˆåº¦

### âœ… æ£€æŸ¥ 1: åç«¯æœåŠ¡å™¨
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: `http://localhost:3001`

**é¢„æœŸç»“æœ**:
```json
{"message":"Welcome to Learn Copilot Backend Server"}
```

---

### âœ… æ£€æŸ¥ 2: å‰ç«¯åº”ç”¨
åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€: `http://localhost:5173`

**é¢„æœŸç»“æœ**:
- é¡µé¢æ­£å¸¸åŠ è½½
- çœ‹åˆ°è®¤è¯é¡µé¢æˆ–ä¸»é¡µé¢

---

### âœ… æ£€æŸ¥ 3: æ³¨å†Œæ–°ç”¨æˆ·å¹¶æ£€æŸ¥æœåŠ¡å™¨åŒæ­¥

**æ“ä½œ**:
1. åœ¨å‰ç«¯æ³¨å†Œä¸€ä¸ªæµ‹è¯•ç”¨æˆ·
2. æ‰“å¼€æµè§ˆå™¨å¼€å‘å·¥å…· â†’ Network æ ‡ç­¾
3. è§‚å¯Ÿæ˜¯å¦æœ‰è¯·æ±‚åˆ° `localhost:3001/api/auth/register`

**é¢„æœŸç»“æœ**:
```json
{
  "success": true,
  "user": {
    "id": "user-xxx",
    "username": "test-user",
    ...
  }
}
```

---

### âœ… æ£€æŸ¥ 4: éªŒè¯æœåŠ¡å™¨æ–‡ä»¶

åœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æ£€æŸ¥: `server/storage/`

**é¢„æœŸç»“æ„**:
```
server/storage/
â”œâ”€â”€ users.json                           â† ç”¨æˆ·æ•°æ®
â”œâ”€â”€ model_config.json                    â† AI æ¨¡å‹é…ç½®
â”œâ”€â”€ prompts_config.json                  â† æç¤ºè¯é…ç½®
â””â”€â”€ user-{userId}/                       â† ç”¨æˆ·ç‰¹å®šæ•°æ®ç›®å½•
    â”œâ”€â”€ knowledge_bases.json             â† çŸ¥è¯†åº“
    â”œâ”€â”€ assessment_results.json          â† æµ‹è¯•æˆç»©
    â”œâ”€â”€ assessment_history.json          â† æµ‹è¯•å†å²
    â””â”€â”€ ai_insights.json                 â† å­¦ä¹ åˆ†æ
```

---

### âœ… æ£€æŸ¥ 5: æµ‹è¯•å„é¡µé¢åŠŸèƒ½

| é¡µé¢ | æ“ä½œ | æ£€æŸ¥é¡¹ |
|------|------|--------|
| **Library** | æ·»åŠ çŸ¥è¯†åº“ | æ•°æ®åŒæ­¥åˆ° `server/storage/user-xxx/knowledge_bases.json` |
| **Assessment** | å®Œæˆæµ‹è¯• | æˆç»©ä¿å­˜åˆ° `server/storage/user-xxx/assessment_results.json` |
| **Analytics** | ç”Ÿæˆåˆ†æ | æ•°æ®ä¿å­˜åˆ° `server/storage/user-xxx/ai_insights.json` |
| **Settings** | ä¿®æ”¹é…ç½® | é…ç½®ä¿å­˜åˆ° `server/storage/model_config.json` |

---

### âœ… æ£€æŸ¥ 6: ç¦»çº¿æµ‹è¯•

**æ“ä½œ**:
1. åœæ­¢æœåŠ¡å™¨ (Ctrl+C)
2. ç»§ç»­åœ¨å‰ç«¯è¿›è¡Œæ“ä½œï¼ˆå¦‚æ·»åŠ çŸ¥è¯†åº“ï¼‰
3. æ£€æŸ¥æ•°æ®æ˜¯å¦ä¿å­˜åˆ° localStorage

**é¢„æœŸç»“æœ**:
- åº”ç”¨ä»å¯æ­£å¸¸å·¥ä½œ
- æ•°æ®ä¿å­˜åˆ° localStorage
- æµè§ˆå™¨æ§åˆ¶å°å¯èƒ½æ˜¾ç¤ºè¿æ¥é”™è¯¯ï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼‰

---

### âœ… æ£€æŸ¥ 7: æ¢å¤è¿æ¥å¹¶åˆ·æ–°

**æ“ä½œ**:
1. é‡æ–°å¯åŠ¨æœåŠ¡å™¨
2. åˆ·æ–°å‰ç«¯é¡µé¢
3. è§‚å¯Ÿé¡µé¢æ˜¯å¦ä»æœåŠ¡å™¨åŠ è½½æ•°æ®

**é¢„æœŸç»“æœ**:
- é¡µé¢åŠ è½½ç¦»çº¿æœŸé—´åˆ›å»ºçš„æ•°æ®
- æ•°æ®æ˜¾ç¤ºä¸ localStorage ä¸­çš„ä¸€è‡´

---

## ğŸ” è°ƒè¯•æ£€æŸ¥åˆ—è¡¨

### ç½‘ç»œè¯·æ±‚æ£€æŸ¥

åœ¨æµè§ˆå™¨å¼€å‘å·¥å…· â†’ Network æ ‡ç­¾ä¸­æŸ¥çœ‹ï¼š

```
âœ… åº”è¯¥çœ‹åˆ°çš„è¯·æ±‚ï¼š
- POST /api/auth/register          (æ³¨å†Œç”¨æˆ·)
- POST /api/knowledge-bases        (ä¿å­˜çŸ¥è¯†åº“)
- POST /api/assessment-results     (ä¿å­˜æµ‹è¯•æˆç»©)
- GET  /api/knowledge-bases        (åŠ è½½çŸ¥è¯†åº“)
- GET  /api/assessment-results     (åŠ è½½æµ‹è¯•æˆç»©)
...ç­‰ç­‰

âš ï¸ å¯èƒ½çš„é—®é¢˜ï¼š
- CORS é”™è¯¯ â†’ æ£€æŸ¥æœåŠ¡å™¨ CORS é…ç½®
- 404 é”™è¯¯ â†’ æ£€æŸ¥æœåŠ¡å™¨è·¯ç”±
- Connection refused â†’ æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ
```

---

### æ§åˆ¶å°æ£€æŸ¥

åœ¨æµè§ˆå™¨å¼€å‘å·¥å…· â†’ Console æ ‡ç­¾ä¸­æ£€æŸ¥ï¼š

```javascript
// åº”è¯¥çœ‹åˆ°çš„ï¼š
// 1. æ²¡æœ‰ "require is not defined" é”™è¯¯
// 2. å¯èƒ½çœ‹åˆ° "Syncing data..." æ—¥å¿—
// 3. æ²¡æœ‰æœªå¤„ç†çš„å¼‚å¸¸

// è°ƒè¯•å‘½ä»¤ï¼ˆå¯ä»¥åœ¨æ§åˆ¶å°è¿è¡Œï¼‰ï¼š
localStorage.getItem('userData')           // æŸ¥çœ‹æœ¬åœ°æ•°æ®
JSON.parse(localStorage.getItem('userData')) // æ ¼å¼åŒ–æŸ¥çœ‹
```

---

### æœåŠ¡å™¨æ—¥å¿—æ£€æŸ¥

åœ¨æœåŠ¡å™¨ç»ˆç«¯ä¸­æ£€æŸ¥ï¼š

```
âœ… åº”è¯¥çœ‹åˆ°çš„ï¼š
- ğŸš€ Server running at http://localhost:3001
- [API] å„ä¸ªè¯·æ±‚çš„æ—¥å¿—ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰

âš ï¸ å¯èƒ½çš„é—®é¢˜ï¼š
- Error: Cannot find module 'xxx' â†’ æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…
- Port 3001 already in use â†’ æ›´æ”¹ç«¯å£æˆ–å…³é—­å ç”¨åº”ç”¨
```

---

## ğŸ“Š è¿ç§»å®Œæˆåº¦è¯„åˆ†

| é¡¹ç›® | å®Œæˆåº¦ | çŠ¶æ€ |
|------|--------|------|
| åç«¯æœåŠ¡å™¨ | 100% | âœ… |
| å‰ç«¯é¡µé¢è¿ç§» | 100% | âœ… |
| æœåŠ¡å™¨-å‰ç«¯é€šä¿¡ | 100% | âœ… |
| ç¦»çº¿æ”¯æŒ | 100% | âœ… |
| æ–‡æ¡£ | 100% | âœ… |
| **æ€»ä½“å®Œæˆåº¦** | **100%** | **âœ… å®Œå…¨å®Œæˆ** |

---

## ğŸ¯ å¦‚æœé‡åˆ°é—®é¢˜...

### é—®é¢˜ 1: "è¿æ¥è¢«æ‹’ç»" (Connection Refused)

```
Error: Failed to fetch from http://localhost:3001
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ: `npm run server`
2. æ£€æŸ¥æœåŠ¡å™¨æ˜¯å¦åœ¨ 3001 ç«¯å£: `netstat -an | grep 3001` (Windows)
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®

---

### é—®é¢˜ 2: "CORS é”™è¯¯"

```
Access to XMLHttpRequest blocked by CORS policy
```

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ `server/index.js` ä¸­çš„ CORS é…ç½®
2. ç¡®ä¿ `cors()` ä¸­é—´ä»¶å·²å¯ç”¨
3. é‡å¯æœåŠ¡å™¨

---

### é—®é¢˜ 3: "æ–‡ä»¶æœªæ‰¾åˆ°"

```
Error: Cannot find module 'xxx'
```

**è§£å†³æ–¹æ¡ˆ**:
1. è¿è¡Œ `npm install` é‡æ–°å®‰è£…ä¾èµ–
2. æ£€æŸ¥ `package.json` ä¸­çš„ä¾èµ–ç‰ˆæœ¬
3. åˆ é™¤ `node_modules` å¹¶é‡æ–°å®‰è£…

---

### é—®é¢˜ 4: "ç«¯å£å·²åœ¨ä½¿ç”¨"

```
Error: listen EADDRINUSE: address already in use :::3001
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# Windows
netstat -ano | findstr :3001
taskkill /PID <PID> /F

# Linux/Mac
lsof -i :3001
kill -9 <PID>
```

æˆ–è€…æ›´æ”¹æœåŠ¡å™¨ç«¯å£:
```javascript
// server/index.js
const PORT = 3002; // æ”¹ä¸ºå…¶ä»–ç«¯å£
```

---

## âœ¨ é¢„æœŸçš„å®Œæ•´å·¥ä½œæµ

```
1. æ³¨å†Œç”¨æˆ· â†’ âœ… æ•°æ®ä¿å­˜åˆ° server/storage/users.json
                âœ… ç”¨æˆ· localStorage æ›´æ–°

2. æ·»åŠ çŸ¥è¯†åº“ â†’ âœ… æ•°æ®ä¿å­˜åˆ° localStorage
                âœ… å¼‚æ­¥åŒæ­¥åˆ° server/storage/user-xxx/knowledge_bases.json

3. åˆ·æ–°é¡µé¢ â†’ âœ… ä»æœåŠ¡å™¨åŠ è½½æœ€æ–°æ•°æ®
              âœ… å¦‚æœæœåŠ¡å™¨ä¸å¯ç”¨ï¼Œä½¿ç”¨ localStorage

4. å¦ä¸€è®¾å¤‡è®¿é—® â†’ âœ… ä»æœåŠ¡å™¨åŠ è½½ç›¸åŒæ•°æ®
                  âœ… æ‰€æœ‰è®¾å¤‡çœ‹åˆ°ä¸€è‡´çš„æ•°æ®

5. ç¦»çº¿æ“ä½œ â†’ âœ… åº”ç”¨æ­£å¸¸å·¥ä½œ
              âœ… æ•°æ®ä¿å­˜åˆ° localStorage
              âœ… æ¢å¤åœ¨çº¿åè‡ªåŠ¨åŒæ­¥

6. åœæœºç»´æŠ¤ â†’ âœ… ç”¨æˆ·æ•°æ®å§‹ç»ˆæœ‰å¤‡ä»½
              âœ… å¯ä»¥ä» server/storage/ æ¢å¤
```

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

å½“ä½ çœ‹åˆ°ä»¥ä¸‹æƒ…å†µæ—¶ï¼Œè¿ç§»å°±æ˜¯**å®Œå…¨æˆåŠŸ**çš„ï¼š

âœ… æœåŠ¡å™¨åœ¨ http://localhost:3001 æˆåŠŸå¯åŠ¨
âœ… å‰ç«¯åœ¨ http://localhost:5173 æ­£å¸¸åŠ è½½
âœ… æ³¨å†Œç”¨æˆ·æ—¶ï¼ŒæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚å¹¶ä¿å­˜æ•°æ®
âœ… å„é¡µé¢åŠŸèƒ½æ­£å¸¸ï¼Œæ•°æ®åŒæ­¥åˆ°æœåŠ¡å™¨
âœ… `server/storage/` ä¸­æœ‰ç”¨æˆ·æ•°æ®æ–‡ä»¶
âœ… ç¦»çº¿æ—¶åº”ç”¨ä»å¯æ­£å¸¸å·¥ä½œ
âœ… æ²¡æœ‰ CORSã€ç½‘ç»œæˆ–æ–‡ä»¶ç›¸å…³çš„é”™è¯¯

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœè¿ç§»éªŒè¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š
1. `server/index.js` æ˜¯å¦æ­£ç¡®ï¼ˆæŸ¥çœ‹åç«¯æ—¥å¿—ï¼‰
2. å„é¡µé¢çš„å¯¼å…¥è¯­å¥æ˜¯å¦æ­£ç¡®
3. `utils/server-sync.ts` æ˜¯å¦å®Œæ•´
4. ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®

ç¥æ‚¨éªŒè¯é¡ºåˆ©ï¼ ğŸš€
